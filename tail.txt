tail
npm install -D tailwindcss postcss autoprefixer
npx tailwindcss init -p


/** @type {import('tailwindcss').Config} */
export default {
  content: [
    "./index.html",
    "./src/**/*.{vue,js,ts,jsx,tsx}",
  ],
  theme: {
    extend: {},
  },
  plugins: [],
}



@tailwind base;
@tailwind components;
@tailwind utilities;

npm install lucide-vue-next

import { format } from "date-fns";

npm install date-fns



E:\spring2024_1113\boardvue03>




ë„Œ í’€ìŠ¤í… ì „ë¬¸ê°€ë‹¤. ì „ì²´ ë°˜ì‘í˜•ìœ¼ë¡œ tailwindë¥¼ ì‚¬ìš©í•œë‹¤. vue3ë¥¼ ì´ìš©í•´ì¤˜, piniaë¥¼ ì‚¬ìš©í•´ì¤˜
ì‹¸ì¸ì—…ì„ ëˆ„ë¥´ë©´ ì‹¸ì¸ì—…ì„ í• ìˆ˜ ìˆë‹¤. 
ë¡œê·¸ì¸ì„ í•˜ë©´ í† í°ì„ ë°›ì•„ì„œ ê¶Œí•œìœ¼ë¡œ ì‘ì—…í• ìˆ˜ ìˆë‹¤. 
ì–´ë“œë¯¼ì€ /api/adminìœ¼ë¡œ ì‹œì‘í•œë‹¤.
ë¡œê·¸ì¸ ë¡œê·¸ì•„ì›ƒ ë¦¬í”„ë ˆìŠ„í† í° ì„ ì´ìš©í•˜ì—¬ ê²Œì‹œë‚œboard/add board/pageë¥¼ ì‘ì„±í•˜ê³ ì‹¶ë‹¤. 
ëª¨ë‘ ì™„ì„±í•´ì¤˜
axiosë¥¼ ì‚¬ìš©í•œë‹¤. ê¸°ë³¸ url http://localhost:8080 ì€ axiosì— ê¸°ë³¸ìœ¼ë¡œ ì„¤ì •í•˜ê³  

post 
/api/auth/signup
{
  "firstName": "string",
  "lastName": "string",
  "password": "123456",
  "role": "ADMIN",
  "username": "string@naver.com"
}


post 
/api/auth/refresh

post 
/api/auth/login
{
  "password": "string"
  "username": "string@naver.com"
}

 const response = await axios.post(`${baseUrl}/login`, {
            username: username,
            password: password,
          });

          accessToken = response.data.access_token;
ë‹µë³€ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.
{access_token: 'eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJrYWxAbmF2ZXIuY29tIâ€¦4n-LcZrQACg3aF9I1ZC_CgJJKmlajmUT4MPKg8lNkVEY6ZY52', refresh_token: 'eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJrYWxAbmF2ZXIuY29tIâ€¦Dc9EBjNCCGu070JZ7zZX2hVl8yUNYd6Sj77k7iPVBvgp47J1c', message: 'User login was successful'}
access_token
: 
"eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJrYWxAbmF2ZXIuY29tIiwiaWF0IjoxNzMxODUwMTM1LCJleHAiOjE3MzE5MzY1MzV9.YrO1pvQlupkqCrm4n-LcZrQACg3aF9I1ZC_CgJJKmlajmUT4MPKg8lNkVEY6ZY52"
message
: 
"User login was successful"
refresh_token
: 
"eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJrYWxAbmF2ZXIuY29tIiwiaWF0IjoxNzMxODUwMTM1LCJleHAiOjE3MzI0NTQ5MzV9.B3TmKhWvFfa5vOtDc9EBjNCCGu070JZ7zZX2hVl8yUNYd6Sj77k7iPVBvgp47J1c"
[[Prototype]]
: 
Object


post
/api/board/page
{
  "pageNum": 1,
  "pageSize": 2
  "keyword": "title",
  "search": "ë¼ë¼"
}

ë¦¬í„´ê°’
	
Response body
Download
{
  "total": 3,
  "list": [
    {
      "boardId": 1,
      "memberId": 1,
      "title": "ë¼ë¼ëœë“œ",
      "boardcontent": "í•˜í•˜í•˜ë¼ë¼",
      "writedate": "2024-11-07T23:19:47.000+00:00",
      "hit": 0
    },
    {
      "boardId": 2,
      "memberId": 1,
      "title": "ë¼ë¼ëœë“œ",
      "boardcontent": "í•˜í•˜í•˜ë¼ë¼",
      "writedate": "2024-11-07T23:21:35.000+00:00",
      "hit": 0
    }
  ],
  "pageNum": 1,
  "pageSize": 2,
  "size": 2,
  "startRow": 1,
  "endRow": 2,
  "pages": 2,
  "prePage": 0,
  "nextPage": 2,
  "isFirstPage": true,
  "isLastPage": false,
  "hasPreviousPage": false,
  "hasNextPage": true,
  "navigatePages": 8,
  "navigatepageNums": [
    1,
    2
  ],
  "navigateFirstPage": 1,
  "navigateLastPage": 2
}

post
/api/board/add
{
  "memberId": 2,
  "title": "ê¸€ì œëª©",
  "boardcontent": "ê¸€ì˜ ë‚´ìš©"
}

pagesëŠ” ì´ ëª‡ í˜ì´ì§•ë‹ˆê°€ "navigatepageNums": ì´ 1,2í˜ì´ì§€ë¥¼ ë³´ì´ê³  total ê¸€ 3ê°œ

í˜ì´ì§• htmlì´ë‹¤. ì°¸ê³ í•´ì£¼ã…
 <script>
        const urls = ".";
        let currentPage = 1;
        let pageSize = 10;
        let totalPages = 0;

        // axios ì„¤ì •ì— ê¸°ë³¸ í—¤ë” ì¶”ê°€
        axios.defaults.headers.common['Content-Type'] = 'application/json;charset=UTF-8';
        
        async function loadBoards(page = 1) {
            try {
                const searchType = document.getElementById('searchType').value;
                const keyword = document.getElementById('keyword').value;
                
                const params = new URLSearchParams({
                    page: page,
                    size: pageSize
                });

                if (keyword) {
                    params.append('searchType', searchType);
                    params.append('keyword', encodeURIComponent(keyword));
                }

                const response = await axios.get(`${urls}/api/boards?${params}`);
                const pageInfo = response.data;
                
                renderBoards(pageInfo.list);
                renderPagination(pageInfo);
                
                currentPage = page;
                totalPages = pageInfo.pages;

            } catch (error) {
                console.error('Error loading boards:', error);
                alert('ê²Œì‹œê¸€ì„ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
            }
        }

        function renderBoards(boards) {
            const boardList = document.getElementById('boardList');
            boardList.innerHTML = '';

            boards.forEach((board, index) => {
                const boardNumber = (currentPage - 1) * pageSize + index + 1;
                const card = document.createElement('div');
                card.className = 'board-card';
                card.onclick = () => window.location.href = `view.html?id=${board.id}`;
                
                card.innerHTML = `
                    <div class="board-number">#${boardNumber}</div>
                    <div class="board-title">${escapeHtml(board.title)}</div>
                    <div class="board-info">
                        <span class="board-author">${escapeHtml(board.authorName)}</span>
                        <span>ì¡°íšŒ ${board.viewCount || 0}</span>
                    </div>
                    <div class="board-info" style="margin-top: 10px;">
                        <span>${formatDate(board.createdAt)}</span>
                        ${board.files && board.files.length ? `<span>ğŸ“ ${board.files.length}</span>` : ''}
                    </div>
                `;
                
                boardList.appendChild(card);
            });
        }

        function renderPagination(pageInfo) {
            const pagination = document.getElementById('pagination');
            pagination.innerHTML = '';

            // ì²˜ìŒ í˜ì´ì§€
            addPaginationButton(pagination, '<<', 1, !pageInfo.hasPreviousPage);
            // ì´ì „ í˜ì´ì§€
            addPaginationButton(pagination, '<', pageInfo.prePage, !pageInfo.hasPreviousPage);

            // í˜ì´ì§€ ë²ˆí˜¸ë“¤
            pageInfo.navigatepageNums.forEach(num => {
                addPaginationButton(pagination, num, num, false, num === pageInfo.pageNum);
            });

            // ë‹¤ìŒ í˜ì´ì§€
            addPaginationButton(pagination, '>', pageInfo.nextPage, !pageInfo.hasNextPage);
            // ë§ˆì§€ë§‰ í˜ì´ì§€
            addPaginationButton(pagination, '>>', pageInfo.pages, !pageInfo.hasNextPage);
        }

        function addPaginationButton(container, text, pageNum, disabled, isActive = false) {
            const button = document.createElement('button');
            button.innerHTML = text;
            button.disabled = disabled;
            if (isActive) button.className = 'active';
            button.onclick = () => loadBoards(pageNum);
            container.appendChild(button);
        }

        function changePageSize() {
            pageSize = parseInt(document.getElementById('pageSize').value);
            currentPage = 1;
            loadBoards(1);
        }

        function search() {
            currentPage = 1;
            loadBoards(1);
        }

        function formatDate(dateString) {
            if (!dateString) return '';
            const date = new Date(dateString);
            return `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}-${String(date.getDate()).padStart(2, '0')}`;
        }

        // XSS ë°©ì§€ë¥¼ ìœ„í•œ HTML ì´ìŠ¤ì¼€ì´í”„ í•¨ìˆ˜
        function escapeHtml(unsafe) {
            return unsafe
                .replace(/&/g, "&amp;")
                .replace(/</g, "&lt;")
                .replace(/>/g, "&gt;")
                .replace(/"/g, "&quot;")
                .replace(/'/g, "&#039;");
        }

        // ê²€ìƒ‰ì–´ ì…ë ¥ í•„ë“œì—ì„œ ì—”í„° í‚¤ ì²˜ë¦¬
        document.getElementById('keyword').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                search();
            }
        });

        // ì´ˆê¸° ë¡œë“œ
        loadBoards();
    </script>




ì–´ë“œë¯¼
 try {
          const response = await axios.get(`${baseUrl2}/admin/only`, {
            headers: {
              Authorization: `Bearer ${accessToken}`,
            },
          });

ë¡œê·¸ì•„ì›ƒ
.post(
            		`${baseUrl}/logout`,
              {},
              {
                headers: {
                  Authorization: `Bearer ${accessToken}`,
                },
              },

 function fetchBoardData() {
        // ì…ë ¥ëœ ê°’ë“¤ì„ ê°€ì ¸ì˜´
        const pageNum = document.getElementById("pageNum").value;
        const pageSize = document.getElementById("pageSize").value;
        const keyword = document.getElementById("keyword").value;
        const search = document.getElementById("search").value;

        // ìš”ì²­ ë°ì´í„° ìƒì„±
        const requestData = {
          pageNum: parseInt(pageNum),
          pageSize: parseInt(pageSize),
          keyword: keyword,
          search: search,
        };

        // axiosë¥¼ í†µí•´ POST ìš”ì²­ ë³´ë‚´ê¸°
        axios
          .post(`${baseUrl2}/board/page`, requestData, {
            headers: {
              Authorization: `Bearer ${accessToken}`, // Bearer í† í°ì„ í¬í•¨
              "Content-Type": "application/json", // JSON í˜•ì‹ìœ¼ë¡œ ë°ì´í„° ì „ì†¡
            },
          })
          .then((response) => {
            displayResults(response.data);
          })
          .catch((error) => {
            console.error(error);
            alert("Error fetching data.");
          });
      }

      // ê²°ê³¼ë¥¼ í™”ë©´ì— í‘œì‹œí•˜ëŠ” í•¨ìˆ˜
      function displayResults(data) {
        const resultBody = document.getElementById("resultBody");
        resultBody.innerHTML = ""; // ê¸°ì¡´ ë‚´ìš©ì„ ì´ˆê¸°í™”

        // ê²°ê³¼ ëª©ë¡ì„ í…Œì´ë¸”ì— ì¶”ê°€
        data.list.forEach((item) => {
          const row = document.createElement("tr");
          row.innerHTML = `
                    <td>${item.boardId}</td>
                    <td>${item.memberId}</td>
                    <td>${item.title}</td>
                    <td>${item.boardcontent}</td>
                    <td>${new Date(item.writedate).toLocaleString()}</td>
                    <td>${item.hit}</td>
                `;
          resultBody.appendChild(row);
        });

        // í˜ì´ì§€ ì •ë³´ í‘œì‹œ
        const resultHeader = document.getElementById("resultBody");
        resultHeader.innerHTML += `
                <p>Total Results: ${data.size}</p>
                <p>Page ${data.pageNum} of ${data.pages}</p>
            `;
      }





{
"access_token": "eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJrYWxAbmF2ZXIuY29tIiwiaWF0IjoxNzMxODU2NjE5LCJleHAiOjE3MzE5NDMwMTl9.-6w87y8Ofa0rarIgCBoEeyiaa6aloU2YTEvGfGNGAC9j05BuUSxW5oRXIRASLVF-",
"refresh_token": "eyJhbGciOiJIUzM4NCJ9.eyJzdWIiOiJrYWxAbmF2ZXIuY29tIiwiaWF0IjoxNzMxODU2NjE5LCJleHAiOjE3MzI0NjE0MTl9.P4GQjPo0onZnx3PG6zteG0GfrNnaZJ8_uyaNkkNp-38WDohpOY7FUyAHCQA3dukN",
"message": null,
"user":{
"id": 1,
"firstName": null,
"lastName": null,
"password": null,
"role": "USER",
"username": "kal@naver.com"
}
}